<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Drawing Smile Web Application</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description"
	content="Drawing Smile Web Application -- written in <canvas>." />
<link rel="icon" href="media/gui/favicon.png" type="image/x-icon" />
<link href="css/dswa.css" rel="stylesheet" type="text/css" />
<!--[if lt IE 9]>
        <OBJECT ID="canvasFactory"  CLASSID="clsid:785740C4-DD04-4B91-8AD7-44CC9FFB4984"></OBJECT>
        <style>
        canvas {
        behavior: url(#canvasFactory);
        width: 300px; height: 150px; display: block;
        margin: 0; border: 0; background: transparent!important;
        }
        </style>
        <canvas id="CanvasRenderingContext2D" style="display: none" />
        <script>
        // CanvasRenderingContext2D.prototype = CanvasRenderingContext2D.getContext('2d').prototype;
        if(0) document._createElement = document.createElement;
        if(0) document.createElement = function(tagName) {
        var tag = document._createElement(tagName);
        if(tagName.toUpperCase() == 'CANVAS') tag.addBehavior("#canvasFactory");
        return tag;
        };
        </script>
        <![endif]-->
<script type="text/javascript">
            marqueeID = false;
            mixin = function(o) { // dojo.mixin
                var len = arguments.length;
                for(var i = 1; i < len; i++)
                for(var j in arguments[i])
                    o[j] = arguments[i][j];
                return o;
            };
            var dtx2D = document.createElement("canvas");
            var ctx2D; try { ctx2D = dtx2D.getContext('2d'); } catch(e) {};
            var data2pattern = function(obj, data) {
                // if(dtx2D.parentNode === null) document.body.appendChild(dtx2D);
                if(ctx2D == null) ctx2D = dtx2D.getContext('2d');
                function createPattern(src, id) {
                    var image = new Image();
                    image.onload = function() {
                        obj[id] = ctx2D.createPattern(image, "repeat");
                    };
                    image.src = src;
                };
                for(var key in data) {
                    createPattern(data[key], key);
                }
            };
        </script>
        <script type="text/javascript" src="javascript/gui.js"></script>
</head>
<body
	onmousedown="if(false && preventDefault) event.preventDefault(); preventDefault = true;">

	<div id="top">
		<div class="center">
			<div class="west" style="font-variant: small-caps">
				<div style="left: 12px; top: 10px"
					onmousedown="canvas.mode_sw('paint');" id="paint" class="cur">paint</div>
				<div style="left: 24px; top: 10px"
					onmousedown="canvas.mode_sw('light');" id="light">light</div>
			</div>
			<div class="east">
				<div
					style="background: none; border-left: none; border-right: 1px solid #161616; height: 22px; padding: 0; cursor: default"></div>
				<div id="isolid"
					onmousedown="win.tab(this,'solid','solid'); if(this.className != 'cur') gui_swatch.toType('CO');">color</div>
				<div id="igradient"
					onmousedown="win.tab(this,'gradient','gradient'); if(this.className != 'cur') gui_swatch.toType('GD');">gradient</div>
				<div id="ipattern"
					onmousedown="win.tab(this,'pattern','pattern'); if(this.className != 'cur') gui_swatch.toType('PT');">pattern</div>
				<div id="iswatch" onmousedown="win.tab(this,'swatch',vars[vars.id])">swatch</div>
				<div id="ihistory"
					onmousedown="win.tab(this,'history',vars[vars.id])">history</div>
				<div id="ioptions"
					onmousedown="win.tab(this,'options',vars[vars.id])">options</div>
				<div onmousedown="canvas.open();" class="cur open"
					style="display: none">
					<span></span>
				</div>
				<a href="#" onclick="window.saveDrawing(); return false;"
					target="_blank"><div class="cur save">
						<span></span>
					</div></a>
				<div
					style="background: none; border-left: none; border: none; border-left: 1px solid #3e3e3e; height: 22px; padding: 0; cursor: default"></div>
			</div>
		</div>
	</div>

	<div id="tools" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<div class="TMM">tools</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove();">
				<div class="z">
					<div class="tools">
						<div onclick="gui_tools.imageCurrent('Marquee_'+vars.marquee)">
							<img src="media/gui/sw_add.png" class="plus" alt="Marquee" /><img
								src=""
								class="Marquee_lasso Marquee_ellipses Marquee_polygon Marquee_star Marquee_burst Marquee_gear"
								alt="Marquee" />
						</div>
						<div onclick="gui_tools.imageCurrent('Crop')">
							<img src="" class="Crop" alt="Crop" />
						</div>
						<br />
						<div class="hr"></div>
						<div onclick="gui_tools.imageCurrent('Text')">
							<img src="" class="Text" alt="Text" />
						</div>
						<div onclick="gui_tools.imageCurrent('Shape_'+vars.shape)">
							<img src="media/gui/sw_add.png" class="plus" alt="Shape" /><img
								src=""
								class="Shape_ellipses Shape_polygon Shape_star Shape_burst Shape_gear"
								alt="Shape" />
						</div>
						<div onclick="gui_tools.imageCurrent('Spirograph')">
							<img src="" class="Spirograph" alt="Spirograph" />
						</div>
						<div onclick="gui_tools.imageCurrent(vars.draw)">
							<img src="media/gui/sw_add.png" class="plus" alt="Draw" /><img
								src="" class="Brush Calligraphy Pencil" alt="Draw" />
						</div>
						<div onclick="gui_tools.imageCurrent('Fill')">
							<img src="" class="Fill" alt="Fill" />
						</div>
						<div onclick="gui_tools.imageCurrent('Stamp')">
							<img src="" class="Stamp" alt="Stamp" />
						</div>
						<div onclick="gui_tools.imageCurrent('Eraser')">
							<img src="" class="Eraser" alt="Eraser" />
						</div>
						<div onclick="gui_tools.imageCurrent('Picker')">
							<img src="" class="Picker" alt="Picker" />
						</div>
						<br />
						<div class="hr"></div>
					</div>
					<div class="ss">
						<div id="swap">F</div>
						<div class="fill">
							<canvas onmousedown="gui_palette.click('fill')" id="fill"
								title="Fill"></canvas>
						</div>
						<div class="stroke">
							<canvas onmousedown="gui_palette.click('stroke')" id="stroke"
								title="Stroke"></canvas>
							<div onmousedown="gui_palette.click('stroke')">
								<div></div>
							</div>
							<img src="media/gui/sw_switch.png" style="display: block"
								onmousedown="gui_palette.current(); return false"
								alt="Switch Stroke with Fill" />
						</div>
					</div>
				</div>
			</div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="options" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span class="TML"></span>
				<div class="TRx">
					<img onclick="win.close('options',1)"
						onmousedown="return(noMove())" src="media/gui/win_close.png"
						title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()"></div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="history" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span class="TML">history</span>
				<div class="TRx">
					<img onclick="win.close('history',1)"
						onmousedown="return(noMove())" src="media/gui/win_close.png"
						title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()"></div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="swatch" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span class="TML">swatch</span>
				<div class="TRx">
					<img onclick="win.close('swatch',1)" onmousedown="return(noMove())"
						src="media/gui/win_close.png" title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()"></div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="pattern" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span class="TML">pattern</span>
				<div class="TRx">
					<img onclick="win.close('pattern',1)"
						onmousedown="return(noMove())" src="media/gui/win_close.png"
						title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()">
				<div class="z"></div>
			</div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="gradient" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span class="TML">gradient</span>
				<div class="TRx">
					<img onclick="win.close('gradient',1)"
						onmousedown="return(noMove())" src="media/gui/win_close.png"
						title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()"></div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="solid" class="gui">
		<div class="bounds">
			<div class="TL"></div>
			<div class="TM">
				<span id="HEX" class="TML" title="HEX"
					onmousedown="preventDefault = false;"
					style="cursor: text; text-transform: uppercase">FFFFFF</span>
				<div class="TRx">
					<img onclick="win.close('solid',1)" onmousedown="return(noMove())"
						src="media/gui/win_close.png" title="Close" />
				</div>
			</div>
			<div class="TR"></div>
			<br />
			<div class="ML"></div>
			<div class="MM" onmousedown="noMove()"></div>
			<div class="MR"></div>
			<br />
			<div class="BL"></div>
			<div class="BM"></div>
			<div class="BR"></div>
		</div>
	</div>

	<div id="canvas"
		onmousedown="core.fu('canvas',event,{fu:core.win,Y1:19})" class="gui"
		style="width: 732px; height: 615px;">
		<div class="TL"></div>
		<div class="TM" ondblclick="win_size.tog(vars.winMax?'min':'max')">
			<div class="center">
				<span id="cTitle">DRAWING.PNG</span>
			</div>
			<div class="east" id="cZoom"></div>
		</div>
		<div class="TR"></div>
		<br />
		<div class="ML"></div>
		<div class="MM">
			<div class="z">
				<div id="cBound" onmousedown="return(noMove())">
					<canvas id="ctx_box" style="z-index: 1"></canvas>
					<canvas id="ctx_temp" style="z-index: 2"></canvas>
					<canvas id="ctx_active" style="z-index: 5"></canvas>
					<canvas id="ctx_marquee" style="z-index: 6"></canvas>
					<canvas id="ctx_mouse" style="z-index: 7"></canvas>
				</div>
				<canvas id="ctx_brush" width="200" height="200"></canvas>
				<canvas id="ctx_stamp" width="200" height="200"></canvas>
				<canvas id="ctx_eraser" width="200" height="200"></canvas>
				<canvas id="ctx_picker" height="1" width="1"></canvas>
				<div id="cHistory"></div>
			</div>
		</div>
		<div class="MR"></div>
		<br />
		<div class="BL"></div>
		<div class="BM"></div>
		<div class="BR" onmousedown="vars.winMax='min'; win_size.core(event)"></div>
	</div>

	<div style="display: none" id="canvas_open">
		<div style="padding: 15px 0;">
			My Computer&hellip;<br><input type="file" id="local" size="17"><br><br>The
							Internet&hellip;<br><input type="datafile_url" id="server"
								size="27"><br><br><input
											onclick="canvas.open_event()" type="submit" value="open">
												<div id="canvas_open_error"
													style="padding: 4px 0 0 0; color: #ef3333"></div>
		</div>
	</div>
	<div class="ads">
		<a href="#" target="_blank">Drawing Smart Web Application</a>
	</div>
	<div id="TEST"
		style="color: #fff; position: absolute; top: 40px; z-index: 100000"></div>

	<script type="text/javascript" src="javascript/draw.js"></script>
	<script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));

        </script>
	<script type="text/javascript">
            try {
                var pageTracker = _gat._getTracker("UA-400768-12");
                pageTracker._trackPageview();
            } catch(err) {}
        </script>
</body>
</html>
